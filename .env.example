# ══════════════════════════════════════════════════════════════
# Bastilon OS — Environment Configuration
# Copy this file to .env and fill in your values.
# ══════════════════════════════════════════════════════════════

# ── Core / Telegram ──────────────────────────────────────────
# Get a token from https://t.me/BotFather
TELEGRAM_BOT_TOKEN=
# Set to false to run without Telegram (dashboard/voice only)
TELEGRAM_ENABLED=true
# Comma-separated Telegram user IDs — find yours via @userinfobot
TELEGRAM_ALLOWED_USERS=
# Admin chat ID for system notifications (optional)
TELEGRAM_ADMIN_CHAT_ID=0

# ── Sandbox & Runtime ────────────────────────────────────────
SANDBOX_DIR=./sandbox
RELAY_DIR=./relay

# ── Claude CLI ───────────────────────────────────────────────
# Path to Claude Code CLI binary (must be on PATH or provide full path)
CLAUDE_BIN=claude
# Allowed tools (comma-separated, supports wildcards)
CLAUDE_ALLOWED_TOOLS=help,notes.*,files.*,web.fetch,system.*,shell.exec,code.*,api.*,db.*,telegram.*
# Timeouts
CLI_TIMEOUT_MS=300000
SHELL_TIMEOUT_MS=30000
CODE_TIMEOUT_MS=30000

# ── Models ───────────────────────────────────────────────────
CLAUDE_MODEL=claude-sonnet-4-5-20250929
CLAUDE_MODEL_HAIKU=claude-haiku-4-5-20251001
CLAUDE_MODEL_SONNET=claude-sonnet-4-5-20250929
CLAUDE_MODEL_OPUS=claude-opus-4-6

# ── Conversation ─────────────────────────────────────────────
MEMORY_TURNS=12
RATE_LIMIT_MS=2000
MAX_TOOL_CHAIN=5

# ── Admin ────────────────────────────────────────────────────
# Send this passphrase via /admin in Telegram to unlock admin tools
ADMIN_PASSPHRASE=

# ── Dashboard ────────────────────────────────────────────────
# Auth token for dashboard API (leave empty for no auth — localhost only)
DASHBOARD_TOKEN=
# Port (default 3200)
DASHBOARD_PORT=3200
# Bind address (127.0.0.1 = localhost only, 0.0.0.0 = all interfaces)
DASHBOARD_BIND=127.0.0.1
# CORS origin (defaults to http://localhost:PORT)
DASHBOARD_CORS_ORIGIN=

# ── Logging ──────────────────────────────────────────────────
# debug | info | warn | error
LOG_LEVEL=info

# ── Gemini (vision, image gen, browser tools) ────────────────
# Free tier: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=
GEMINI_ORCHESTRATOR_ENABLED=true
GEMINI_ORCHESTRATOR_MODEL=gemini-2.0-flash
GEMINI_TIMEOUT_MS=60000

# ── Anthropic API (optional — for vision/computer-use) ──────
ANTHROPIC_API_KEY=

# ── Ollama (local LLM tier — $0, 24/7) ──────────────────────
# Install from https://ollama.com, then: ollama pull qwen2.5:14b
OLLAMA_ENABLED=false
OLLAMA_MODEL=qwen2.5:14b
OLLAMA_URL=http://localhost:11434
OLLAMA_TIMEOUT_MS=120000
OLLAMA_MAX_TOOLS=40
OLLAMA_NUM_PREDICT=2048

# ── Voice / Phone Calls (Twilio + Deepgram) ─────────────────
VOICE_ENABLED=false
VOICE_PORT=3100
# Public URL (ngrok/cloudflared) — used in TwiML <Stream> tag
VOICE_PUBLIC_URL=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
# Deepgram STT — https://deepgram.com (free tier: $200 credit)
DEEPGRAM_API_KEY=
VOICE_CHAT_ID=0
VOICE_USER_ID=0
VOICE_LANGUAGE=fr

# ── ElevenLabs TTS ──────────────────────────────────────────
# https://elevenlabs.io (free tier available)
ELEVENLABS_API_KEY=
# Voice ID (default: Daniel — premade, free tier)
ELEVENLABS_VOICE_ID=onwK4e9ZLuTAKqWW03F9

# ── Brave Search ─────────────────────────────────────────────
# https://brave.com/search/api/ (free tier: 2000 queries/month)
BRAVE_SEARCH_API_KEY=

# ── Browser (Puppeteer) ─────────────────────────────────────
# headless | visible | connect
BROWSER_MODE=visible
BROWSER_CDP_URL=
BROWSER_CHROME_PATH=
BROWSER_VIEWPORT_WIDTH=1280
BROWSER_VIEWPORT_HEIGHT=720
BROWSER_TIMEOUT_MS=30000
BROWSER_IDLE_MS=300000

# ── Gmail ────────────────────────────────────────────────────
# Google OAuth credentials (follow Gmail API setup guide)
GMAIL_CREDENTIALS_PATH=./relay/gmail/credentials.json
GMAIL_TOKEN_PATH=./relay/gmail/token.json

# ── Agents ───────────────────────────────────────────────────
AGENT_SCOUT_ENABLED=false
AGENT_SCOUT_HEARTBEAT_MS=1800000
AGENT_ANALYST_ENABLED=false
AGENT_ANALYST_HEARTBEAT_MS=3600000
AGENT_LEARNER_ENABLED=false
AGENT_LEARNER_HEARTBEAT_MS=7200000
AGENT_EXECUTOR_ENABLED=true
AGENT_EXECUTOR_HEARTBEAT_MS=300000
AGENT_TRADING_MONITOR_ENABLED=false
AGENT_TRADING_MONITOR_HEARTBEAT_MS=60000

# ── Trading (Alpaca paper trading) ──────────────────────────
ALPACA_API_KEY=
ALPACA_SECRET_KEY=
ALPACA_BASE_URL=https://paper-api.alpaca.markets/v2

# ── Tool Profiles ────────────────────────────────────────────
# default | coding | automation | full
TOOL_PROFILE=full

# ── OpenClaw Enhancements ───────────────────────────────────
REACTIONS_ENABLED=true
DEBOUNCE_ENABLED=true
DEBOUNCE_MS=1500
STREAMING_ENABLED=true
DRAFT_EDIT_INTERVAL_MS=300
DRAFT_START_THRESHOLD=10

# ── Mood / Weather ──────────────────────────────────────────
# City name for weather-based mood (uses wttr.in, free, no API key)
WEATHER_LOCATION=Ottawa

# ── Facebook / Instagram (Meta Graph API) ─────────────────
# Create an app at https://developers.facebook.com
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
# Use facebook.auth skill to generate a long-lived Page Access Token
FACEBOOK_PAGE_ACCESS_TOKEN=
FACEBOOK_PAGE_ID=
INSTAGRAM_BUSINESS_ACCOUNT_ID=

# ── Claude Memory ───────────────────────────────────────────
# Auto-detected if not set. Set this if memory files are in a custom location.
CLAUDE_MEMORY_DIR=
